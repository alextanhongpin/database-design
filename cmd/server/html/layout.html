{{define "layout"}}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Search</title>
  </head>

  <input id="search" type="search" value="{{.Q}}" />

  <body>
    {{block "content" .}}
    <!--Fallback, if no content provided here.-->
    No content {{end}}
  </body>

  <script>
    (() => {
      const search = document.getElementById("search");
      search.addEventListener("keypress", (evt) => {
        if (evt.key === "Enter") {
          const url = new window.URL(window.location.href);
          url.searchParams.set("q", search.value);

          window.location.assign(url.search);
        }
      });
    })();
  </script>
</html>
{{end}}
